//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Zetzsche/Development/SimarisCurves/com.itextpdf/src/com/itextpdf/text/pdf/qrcode/MatrixUtil.java
//

#line 1 "/Users/Zetzsche/Development/SimarisCurves/com.itextpdf/src/com/itextpdf/text/pdf/qrcode/MatrixUtil.java"

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "IOSPrimitiveArray.h"
#include "com/itextpdf/text/pdf/qrcode/BitVector.h"
#include "com/itextpdf/text/pdf/qrcode/ByteMatrix.h"
#include "com/itextpdf/text/pdf/qrcode/ErrorCorrectionLevel.h"
#include "com/itextpdf/text/pdf/qrcode/MaskUtil.h"
#include "com/itextpdf/text/pdf/qrcode/MatrixUtil.h"
#include "com/itextpdf/text/pdf/qrcode/QRCode.h"
#include "com/itextpdf/text/pdf/qrcode/WriterException.h"

BOOL ComItextpdfTextPdfQrcodeMatrixUtil_initialized = NO;


#line 24
@implementation ComItextpdfTextPdfQrcodeMatrixUtil

IOSObjectArray * ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_DETECTION_PATTERN_;
IOSObjectArray * ComItextpdfTextPdfQrcodeMatrixUtil_HORIZONTAL_SEPARATION_PATTERN_;
IOSObjectArray * ComItextpdfTextPdfQrcodeMatrixUtil_VERTICAL_SEPARATION_PATTERN_;
IOSObjectArray * ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_ADJUSTMENT_PATTERN_;
IOSObjectArray * ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE_;
IOSObjectArray * ComItextpdfTextPdfQrcodeMatrixUtil_TYPE_INFO_COORDINATES_;


#line 26
- (instancetype)init {
  return [super init];
}


#line 130
+ (void)clearMatrixWithComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 131
  [((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) clearWithByte:(jbyte) -1];
}

+ (void)buildMatrixWithComItextpdfTextPdfQrcodeBitVector:(ComItextpdfTextPdfQrcodeBitVector *)dataBits
        withComItextpdfTextPdfQrcodeErrorCorrectionLevel:(ComItextpdfTextPdfQrcodeErrorCorrectionLevel *)ecLevel
                                                 withInt:(jint)version_
                                                 withInt:(jint)maskPattern
                  withComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 138
  [ComItextpdfTextPdfQrcodeMatrixUtil clearMatrixWithComItextpdfTextPdfQrcodeByteMatrix:matrix];
  [ComItextpdfTextPdfQrcodeMatrixUtil embedBasicPatternsWithInt:version_ withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 141
  [ComItextpdfTextPdfQrcodeMatrixUtil embedTypeInfoWithComItextpdfTextPdfQrcodeErrorCorrectionLevel:ecLevel withInt:maskPattern withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 143
  [ComItextpdfTextPdfQrcodeMatrixUtil maybeEmbedVersionInfoWithInt:version_ withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 145
  [ComItextpdfTextPdfQrcodeMatrixUtil embedDataBitsWithComItextpdfTextPdfQrcodeBitVector:dataBits withInt:maskPattern withComItextpdfTextPdfQrcodeByteMatrix:matrix];
}


#line 154
+ (void)embedBasicPatternsWithInt:(jint)version_
withComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  [ComItextpdfTextPdfQrcodeMatrixUtil embedPositionDetectionPatternsAndSeparatorsWithComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 158
  [ComItextpdfTextPdfQrcodeMatrixUtil embedDarkDotAtLeftBottomCornerWithComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 161
  [ComItextpdfTextPdfQrcodeMatrixUtil maybeEmbedPositionAdjustmentPatternsWithInt:version_ withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 163
  [ComItextpdfTextPdfQrcodeMatrixUtil embedTimingPatternsWithComItextpdfTextPdfQrcodeByteMatrix:matrix];
}


#line 167
+ (void)embedTypeInfoWithComItextpdfTextPdfQrcodeErrorCorrectionLevel:(ComItextpdfTextPdfQrcodeErrorCorrectionLevel *)ecLevel
                                                              withInt:(jint)maskPattern
                               withComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 169
  ComItextpdfTextPdfQrcodeBitVector *typeInfoBits = [[ComItextpdfTextPdfQrcodeBitVector alloc] init];
  [ComItextpdfTextPdfQrcodeMatrixUtil makeTypeInfoBitsWithComItextpdfTextPdfQrcodeErrorCorrectionLevel:ecLevel withInt:maskPattern withComItextpdfTextPdfQrcodeBitVector:typeInfoBits];
  
#line 172
  for (jint i = 0; i < [typeInfoBits size]; ++i) {
    
#line 175
    jint bit = [typeInfoBits atWithInt:[typeInfoBits size] - 1 - i];
    
#line 178
    jint x1 = IOSIntArray_Get(nil_chk(IOSObjectArray_Get(nil_chk(ComItextpdfTextPdfQrcodeMatrixUtil_TYPE_INFO_COORDINATES_), i)), 0);
    jint y1 = IOSIntArray_Get(nil_chk(IOSObjectArray_Get(ComItextpdfTextPdfQrcodeMatrixUtil_TYPE_INFO_COORDINATES_, i)), 1);
    [((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) setWithInt:x1 withInt:y1 withInt:bit];
    
#line 182
    if (i < 8) {
      
#line 184
      jint x2 = [matrix getWidth] - i - 1;
      jint y2 = 8;
      [matrix setWithInt:x2 withInt:y2 withInt:bit];
    }
    else {
      jint x2 = 8;
      jint y2 = [matrix getHeight] - 7 + (i - 8);
      [matrix setWithInt:x2 withInt:y2 withInt:bit];
    }
  }
}


#line 198
+ (void)maybeEmbedVersionInfoWithInt:(jint)version_
withComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 199
  if (version_ < 7) {
    return;
  }
  ComItextpdfTextPdfQrcodeBitVector *versionInfoBits = [[ComItextpdfTextPdfQrcodeBitVector alloc] init];
  [ComItextpdfTextPdfQrcodeMatrixUtil makeVersionInfoBitsWithInt:version_ withComItextpdfTextPdfQrcodeBitVector:versionInfoBits];
  
#line 205
  jint bitIndex = 6 * 3 - 1;
  for (jint i = 0; i < 6; ++i) {
    for (jint j = 0; j < 3; ++j) {
      
#line 209
      jint bit = [versionInfoBits atWithInt:bitIndex];
      bitIndex--;
      
#line 212
      [matrix setWithInt:i withInt:[((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) getHeight] - 11 + j withInt:bit];
      
#line 214
      [matrix setWithInt:[matrix getHeight] - 11 + j withInt:i withInt:bit];
    }
  }
}


#line 222
+ (void)embedDataBitsWithComItextpdfTextPdfQrcodeBitVector:(ComItextpdfTextPdfQrcodeBitVector *)dataBits
                                                   withInt:(jint)maskPattern
                    withComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 224
  jint bitIndex = 0;
  jint direction = -1;
  
#line 227
  jint x = [((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) getWidth] - 1;
  jint y = [matrix getHeight] - 1;
  while (x > 0) {
    
#line 231
    if (x == 6) {
      x -= 1;
    }
    while (y >= 0 && y < [matrix getHeight]) {
      for (jint i = 0; i < 2; ++i) {
        jint xx = x - i;
        
#line 238
        if (![ComItextpdfTextPdfQrcodeMatrixUtil isEmptyWithInt:[matrix getWithInt:xx withInt:y]]) {
          continue;
        }
        jint bit;
        if (bitIndex < [((ComItextpdfTextPdfQrcodeBitVector *) nil_chk(dataBits)) size]) {
          bit = [dataBits atWithInt:bitIndex];
          ++bitIndex;
        }
        else {
          
#line 248
          bit = 0;
        }
        
#line 252
        if (maskPattern != -1) {
          if ([ComItextpdfTextPdfQrcodeMaskUtil getDataMaskBitWithInt:maskPattern withInt:xx withInt:y]) {
            bit ^= (jint) 0x1;
          }
        }
        [matrix setWithInt:xx withInt:y withInt:bit];
      }
      y += direction;
    }
    direction = -direction;
    y += direction;
    x -= 2;
  }
  
#line 266
  if (bitIndex != [((ComItextpdfTextPdfQrcodeBitVector *) nil_chk(dataBits)) size]) {
    @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] initWithNSString:JreStrcat("$ICI", @"Not all bits consumed: ", bitIndex, '/', [dataBits size])];
  }
}


#line 276
+ (jint)findMSBSetWithInt:(jint)value {
  
#line 277
  jint numDigits = 0;
  while (value != 0) {
    URShiftAssignInt(&value, 1);
    ++numDigits;
  }
  return numDigits;
}


#line 310
+ (jint)calculateBCHCodeWithInt:(jint)value
                        withInt:(jint)poly {
  
#line 313
  jint msbSetInPoly = [ComItextpdfTextPdfQrcodeMatrixUtil findMSBSetWithInt:poly];
  LShiftAssignInt(&value, msbSetInPoly - 1);
  
#line 316
  while ([ComItextpdfTextPdfQrcodeMatrixUtil findMSBSetWithInt:value] >= msbSetInPoly) {
    value ^= LShift32(poly, ([ComItextpdfTextPdfQrcodeMatrixUtil findMSBSetWithInt:value] - msbSetInPoly));
  }
  
#line 320
  return value;
}

+ (void)makeTypeInfoBitsWithComItextpdfTextPdfQrcodeErrorCorrectionLevel:(ComItextpdfTextPdfQrcodeErrorCorrectionLevel *)ecLevel
                                                                 withInt:(jint)maskPattern
                                   withComItextpdfTextPdfQrcodeBitVector:(ComItextpdfTextPdfQrcodeBitVector *)bits {
  
#line 328
  if (![ComItextpdfTextPdfQrcodeQRCode isValidMaskPatternWithInt:maskPattern]) {
    @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] initWithNSString:@"Invalid mask pattern"];
  }
  jint typeInfo = (LShift32([((ComItextpdfTextPdfQrcodeErrorCorrectionLevel *) nil_chk(ecLevel)) getBits], 3)) | maskPattern;
  [((ComItextpdfTextPdfQrcodeBitVector *) nil_chk(bits)) appendBitsWithInt:typeInfo withInt:5];
  
#line 334
  jint bchCode = [ComItextpdfTextPdfQrcodeMatrixUtil calculateBCHCodeWithInt:typeInfo withInt:ComItextpdfTextPdfQrcodeMatrixUtil_TYPE_INFO_POLY];
  [bits appendBitsWithInt:bchCode withInt:10];
  
#line 337
  ComItextpdfTextPdfQrcodeBitVector *maskBits = [[ComItextpdfTextPdfQrcodeBitVector alloc] init];
  [maskBits appendBitsWithInt:ComItextpdfTextPdfQrcodeMatrixUtil_TYPE_INFO_MASK_PATTERN withInt:15];
  [bits xor__WithComItextpdfTextPdfQrcodeBitVector:maskBits];
  
#line 341
  if ([bits size] != 15) {
    @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] initWithNSString:JreStrcat("$I", @"should not happen but we got: ", [bits size])];
  }
}


#line 348
+ (void)makeVersionInfoBitsWithInt:(jint)version_
withComItextpdfTextPdfQrcodeBitVector:(ComItextpdfTextPdfQrcodeBitVector *)bits {
  
#line 349
  [((ComItextpdfTextPdfQrcodeBitVector *) nil_chk(bits)) appendBitsWithInt:version_ withInt:6];
  jint bchCode = [ComItextpdfTextPdfQrcodeMatrixUtil calculateBCHCodeWithInt:version_ withInt:ComItextpdfTextPdfQrcodeMatrixUtil_VERSION_INFO_POLY];
  [bits appendBitsWithInt:bchCode withInt:12];
  
#line 353
  if ([bits size] != 18) {
    @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] initWithNSString:JreStrcat("$I", @"should not happen but we got: ", [bits size])];
  }
}


#line 359
+ (jboolean)isEmptyWithInt:(jint)value {
  
#line 360
  return value == -1;
}


#line 364
+ (jboolean)isValidValueWithInt:(jint)value {
  return (value == -1 ||
#line 366
  value == 0 ||
#line 367
  value == 1);
}


#line 370
+ (void)embedTimingPatternsWithComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 373
  for (jint i = 8; i < [((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) getWidth] - 8; ++i) {
    jint bit = (i + 1) % 2;
    
#line 376
    if (![ComItextpdfTextPdfQrcodeMatrixUtil isValidValueWithInt:[matrix getWithInt:i withInt:6]]) {
      @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] init];
    }
    if ([ComItextpdfTextPdfQrcodeMatrixUtil isEmptyWithInt:[matrix getWithInt:i withInt:6]]) {
      [matrix setWithInt:i withInt:6 withInt:bit];
    }
    
#line 383
    if (![ComItextpdfTextPdfQrcodeMatrixUtil isValidValueWithInt:[matrix getWithInt:6 withInt:i]]) {
      @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] init];
    }
    if ([ComItextpdfTextPdfQrcodeMatrixUtil isEmptyWithInt:[matrix getWithInt:6 withInt:i]]) {
      [matrix setWithInt:6 withInt:i withInt:bit];
    }
  }
}


#line 393
+ (void)embedDarkDotAtLeftBottomCornerWithComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  if ([matrix getWithInt:8 withInt:[((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) getHeight] - 8] == 0) {
    @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] init];
  }
  [matrix setWithInt:8 withInt:[matrix getHeight] - 8 withInt:1];
}

+ (void)embedHorizontalSeparationPatternWithInt:(jint)xStart
                                        withInt:(jint)yStart
         withComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 403
  if (((IOSIntArray *) nil_chk(IOSObjectArray_Get(nil_chk(ComItextpdfTextPdfQrcodeMatrixUtil_HORIZONTAL_SEPARATION_PATTERN_), 0)))->size_ != 8 || ComItextpdfTextPdfQrcodeMatrixUtil_HORIZONTAL_SEPARATION_PATTERN_->size_ != 1) {
    @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] initWithNSString:@"Bad horizontal separation pattern"];
  }
  for (jint x = 0; x < 8; ++x) {
    if (![ComItextpdfTextPdfQrcodeMatrixUtil isEmptyWithInt:[((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) getWithInt:xStart + x withInt:yStart]]) {
      @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] init];
    }
    [matrix setWithInt:xStart + x withInt:yStart withInt:IOSIntArray_Get(nil_chk(IOSObjectArray_Get(ComItextpdfTextPdfQrcodeMatrixUtil_HORIZONTAL_SEPARATION_PATTERN_, 0)), x)];
  }
}


#line 414
+ (void)embedVerticalSeparationPatternWithInt:(jint)xStart
                                      withInt:(jint)yStart
       withComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 417
  if (((IOSIntArray *) nil_chk(IOSObjectArray_Get(nil_chk(ComItextpdfTextPdfQrcodeMatrixUtil_VERTICAL_SEPARATION_PATTERN_), 0)))->size_ != 1 || ComItextpdfTextPdfQrcodeMatrixUtil_VERTICAL_SEPARATION_PATTERN_->size_ != 7) {
    @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] initWithNSString:@"Bad vertical separation pattern"];
  }
  for (jint y = 0; y < 7; ++y) {
    if (![ComItextpdfTextPdfQrcodeMatrixUtil isEmptyWithInt:[((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) getWithInt:xStart withInt:yStart + y]]) {
      @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] init];
    }
    [matrix setWithInt:xStart withInt:yStart + y withInt:IOSIntArray_Get(nil_chk(IOSObjectArray_Get(ComItextpdfTextPdfQrcodeMatrixUtil_VERTICAL_SEPARATION_PATTERN_, y)), 0)];
  }
}


#line 431
+ (void)embedPositionAdjustmentPatternWithInt:(jint)xStart
                                      withInt:(jint)yStart
       withComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 434
  if (((IOSIntArray *) nil_chk(IOSObjectArray_Get(nil_chk(ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_ADJUSTMENT_PATTERN_), 0)))->size_ != 5 || ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_ADJUSTMENT_PATTERN_->size_ != 5) {
    @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] initWithNSString:@"Bad position adjustment"];
  }
  for (jint y = 0; y < 5; ++y) {
    for (jint x = 0; x < 5; ++x) {
      if (![ComItextpdfTextPdfQrcodeMatrixUtil isEmptyWithInt:[((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) getWithInt:xStart + x withInt:yStart + y]]) {
        @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] init];
      }
      [matrix setWithInt:xStart + x withInt:yStart + y withInt:IOSIntArray_Get(nil_chk(IOSObjectArray_Get(ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_ADJUSTMENT_PATTERN_, y)), x)];
    }
  }
}


#line 447
+ (void)embedPositionDetectionPatternWithInt:(jint)xStart
                                     withInt:(jint)yStart
      withComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 450
  if (((IOSIntArray *) nil_chk(IOSObjectArray_Get(nil_chk(ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_DETECTION_PATTERN_), 0)))->size_ != 7 || ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_DETECTION_PATTERN_->size_ != 7) {
    @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] initWithNSString:@"Bad position detection pattern"];
  }
  for (jint y = 0; y < 7; ++y) {
    for (jint x = 0; x < 7; ++x) {
      if (![ComItextpdfTextPdfQrcodeMatrixUtil isEmptyWithInt:[((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) getWithInt:xStart + x withInt:yStart + y]]) {
        @throw [[ComItextpdfTextPdfQrcodeWriterException alloc] init];
      }
      [matrix setWithInt:xStart + x withInt:yStart + y withInt:IOSIntArray_Get(nil_chk(IOSObjectArray_Get(ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_DETECTION_PATTERN_, y)), x)];
    }
  }
}


#line 464
+ (void)embedPositionDetectionPatternsAndSeparatorsWithComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 466
  jint pdpWidth = ((IOSIntArray *) nil_chk(IOSObjectArray_Get(nil_chk(ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_DETECTION_PATTERN_), 0)))->size_;
  
#line 468
  [ComItextpdfTextPdfQrcodeMatrixUtil embedPositionDetectionPatternWithInt:0 withInt:0 withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 470
  [ComItextpdfTextPdfQrcodeMatrixUtil embedPositionDetectionPatternWithInt:[((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) getWidth] - pdpWidth withInt:0 withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 472
  [ComItextpdfTextPdfQrcodeMatrixUtil embedPositionDetectionPatternWithInt:0 withInt:[matrix getWidth] - pdpWidth withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 475
  jint hspWidth = ((IOSIntArray *) nil_chk(IOSObjectArray_Get(nil_chk(ComItextpdfTextPdfQrcodeMatrixUtil_HORIZONTAL_SEPARATION_PATTERN_), 0)))->size_;
  
#line 477
  [ComItextpdfTextPdfQrcodeMatrixUtil embedHorizontalSeparationPatternWithInt:0 withInt:hspWidth - 1 withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 479
  [ComItextpdfTextPdfQrcodeMatrixUtil embedHorizontalSeparationPatternWithInt:[matrix getWidth] - hspWidth withInt:
#line 480
  hspWidth - 1 withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 482
  [ComItextpdfTextPdfQrcodeMatrixUtil embedHorizontalSeparationPatternWithInt:0 withInt:[matrix getWidth] - hspWidth withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 485
  jint vspSize = ((IOSObjectArray *) nil_chk(ComItextpdfTextPdfQrcodeMatrixUtil_VERTICAL_SEPARATION_PATTERN_))->size_;
  
#line 487
  [ComItextpdfTextPdfQrcodeMatrixUtil embedVerticalSeparationPatternWithInt:vspSize withInt:0 withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 489
  [ComItextpdfTextPdfQrcodeMatrixUtil embedVerticalSeparationPatternWithInt:[matrix getHeight] - vspSize - 1 withInt:0 withComItextpdfTextPdfQrcodeByteMatrix:matrix];
  
#line 491
  [ComItextpdfTextPdfQrcodeMatrixUtil embedVerticalSeparationPatternWithInt:vspSize withInt:[matrix getHeight] - vspSize withComItextpdfTextPdfQrcodeByteMatrix:
#line 492
  matrix];
}


#line 496
+ (void)maybeEmbedPositionAdjustmentPatternsWithInt:(jint)version_
             withComItextpdfTextPdfQrcodeByteMatrix:(ComItextpdfTextPdfQrcodeByteMatrix *)matrix {
  
#line 498
  if (version_ < 2) {
    return;
  }
  jint index = version_ - 1;
  IOSIntArray *coordinates = IOSObjectArray_Get(nil_chk(ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE_), index);
  jint numCoordinates = ((IOSIntArray *) nil_chk(IOSObjectArray_Get(ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE_, index)))->size_;
  for (jint i = 0; i < numCoordinates; ++i) {
    for (jint j = 0; j < numCoordinates; ++j) {
      jint y = IOSIntArray_Get(nil_chk(coordinates), i);
      jint x = IOSIntArray_Get(coordinates, j);
      if (x == -1 || y == -1) {
        continue;
      }
      
#line 512
      if ([ComItextpdfTextPdfQrcodeMatrixUtil isEmptyWithInt:[((ComItextpdfTextPdfQrcodeByteMatrix *) nil_chk(matrix)) getWithInt:x withInt:y]]) {
        
#line 515
        [ComItextpdfTextPdfQrcodeMatrixUtil embedPositionAdjustmentPatternWithInt:x - 2 withInt:y - 2 withComItextpdfTextPdfQrcodeByteMatrix:matrix];
      }
    }
  }
}

+ (void)initialize {
  if (self == [ComItextpdfTextPdfQrcodeMatrixUtil class]) {
    ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_DETECTION_PATTERN_ = [IOSObjectArray arrayWithObjects:(id[]){ [IOSIntArray arrayWithInts:(jint[]){
#line 31
      1, 1, 1, 1, 1, 1, 1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 32
        1, 0, 0, 0, 0, 0, 1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 33
          1, 0, 1, 1, 1, 0, 1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 34
            1, 0, 1, 1, 1, 0, 1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 35
              1, 0, 1, 1, 1, 0, 1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 36
                1, 0, 0, 0, 0, 0, 1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 37
                  1, 1, 1, 1, 1, 1, 1 } count:7] } count:7 type:[IOSIntArray iosClass]];
                  ComItextpdfTextPdfQrcodeMatrixUtil_HORIZONTAL_SEPARATION_PATTERN_ = [IOSObjectArray arrayWithObjects:(id[]){ [IOSIntArray arrayWithInts:(jint[]){
#line 41
                    0, 0, 0, 0, 0, 0, 0, 0 } count:8] } count:1 type:[IOSIntArray iosClass]];
                    ComItextpdfTextPdfQrcodeMatrixUtil_VERTICAL_SEPARATION_PATTERN_ = [IOSObjectArray arrayWithObjects:(id[]){ [IOSIntArray arrayWithInts:(jint[]){
#line 45
                      0 } count:1], [IOSIntArray arrayWithInts:(jint[]){ 0 } count:1], [IOSIntArray arrayWithInts:(jint[]){ 0 } count:1], [IOSIntArray arrayWithInts:(jint[]){ 0 } count:1], [IOSIntArray arrayWithInts:(jint[]){ 0 } count:1], [IOSIntArray arrayWithInts:(jint[]){ 0 } count:1], [IOSIntArray arrayWithInts:(jint[]){ 0 } count:1] } count:7 type:[IOSIntArray iosClass]];
                      ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_ADJUSTMENT_PATTERN_ = [IOSObjectArray arrayWithObjects:(id[]){ [IOSIntArray arrayWithInts:(jint[]){
#line 49
                        1, 1, 1, 1, 1 } count:5], [IOSIntArray arrayWithInts:(jint[]){
#line 50
                          1, 0, 0, 0, 1 } count:5], [IOSIntArray arrayWithInts:(jint[]){
#line 51
                            1, 0, 1, 0, 1 } count:5], [IOSIntArray arrayWithInts:(jint[]){
#line 52
                              1, 0, 0, 0, 1 } count:5], [IOSIntArray arrayWithInts:(jint[]){
#line 53
                                1, 1, 1, 1, 1 } count:5] } count:5 type:[IOSIntArray iosClass]];
                                ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE_ = [IOSObjectArray arrayWithObjects:(id[]){ [IOSIntArray arrayWithInts:(jint[]){
#line 58
                                  -1, -1, -1, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 59
                                    6, 18, -1, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 60
                                      6, 22, -1, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 61
                                        6, 26, -1, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 62
                                          6, 30, -1, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 63
                                            6, 34, -1, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 64
                                              6, 22, 38, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 65
                                                6, 24, 42, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 66
                                                  6, 26, 46, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 67
                                                    6, 28, 50, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 68
                                                      6, 30, 54, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 69
                                                        6, 32, 58, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 70
                                                          6, 34, 62, -1, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 71
                                                            6, 26, 46, 66, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 72
                                                              6, 26, 48, 70, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 73
                                                                6, 26, 50, 74, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 74
                                                                  6, 30, 54, 78, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 75
                                                                    6, 30, 56, 82, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 76
                                                                      6, 30, 58, 86, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 77
                                                                        6, 34, 62, 90, -1, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 78
                                                                          6, 28, 50, 72, 94, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 79
                                                                            6, 26, 50, 74, 98, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 80
                                                                              6, 30, 54, 78, 102, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 81
                                                                                6, 28, 54, 80, 106, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 82
                                                                                  6, 32, 58, 84, 110, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 83
                                                                                    6, 30, 58, 86, 114, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 84
                                                                                      6, 34, 62, 90, 118, -1, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 85
                                                                                        6, 26, 50, 74, 98, 122, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 86
                                                                                          6, 30, 54, 78, 102, 126, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 87
                                                                                            6, 26, 52, 78, 104, 130, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 88
                                                                                              6, 30, 56, 82, 108, 134, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 89
                                                                                                6, 34, 60, 86, 112, 138, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 90
                                                                                                  6, 30, 58, 86, 114, 142, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 91
                                                                                                    6, 34, 62, 90, 118, 146, -1 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 92
                                                                                                      6, 30, 54, 78, 102, 126, 150 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 93
                                                                                                        6, 24, 50, 76, 102, 128, 154 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 94
                                                                                                          6, 28, 54, 80, 106, 132, 158 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 95
                                                                                                            6, 32, 58, 84, 110, 136, 162 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 96
                                                                                                              6, 26, 54, 82, 110, 138, 166 } count:7], [IOSIntArray arrayWithInts:(jint[]){
#line 97
                                                                                                                6, 30, 58, 86, 114, 142, 170 } count:7] } count:40 type:[IOSIntArray iosClass]];
                                                                                                                ComItextpdfTextPdfQrcodeMatrixUtil_TYPE_INFO_COORDINATES_ = [IOSObjectArray arrayWithObjects:(id[]){ [IOSIntArray arrayWithInts:(jint[]){
#line 102
                                                                                                                  8, 0 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 103
                                                                                                                    8, 1 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 104
                                                                                                                      8, 2 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 105
                                                                                                                        8, 3 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 106
                                                                                                                          8, 4 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 107
                                                                                                                            8, 5 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 108
                                                                                                                              8, 7 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 109
                                                                                                                                8, 8 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 110
                                                                                                                                  7, 8 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 111
                                                                                                                                    5, 8 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 112
                                                                                                                                      4, 8 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 113
                                                                                                                                        3, 8 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 114
                                                                                                                                          2, 8 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 115
                                                                                                                                            1, 8 } count:2], [IOSIntArray arrayWithInts:(jint[]){
#line 116
                                                                                                                                              0, 8 } count:2] } count:15 type:[IOSIntArray iosClass]];
                                                                                                                                              ComItextpdfTextPdfQrcodeMatrixUtil_initialized = YES;
                                                                                                                                            }
                                                                                                                                          }

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "MatrixUtil", NULL, 0x2, NULL },
    { "clearMatrixWithComItextpdfTextPdfQrcodeByteMatrix:", "clearMatrix", "V", 0x9, NULL },
    { "buildMatrixWithComItextpdfTextPdfQrcodeBitVector:withComItextpdfTextPdfQrcodeErrorCorrectionLevel:withInt:withInt:withComItextpdfTextPdfQrcodeByteMatrix:", "buildMatrix", "V", 0x9, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "embedBasicPatternsWithInt:withComItextpdfTextPdfQrcodeByteMatrix:", "embedBasicPatterns", "V", 0x9, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "embedTypeInfoWithComItextpdfTextPdfQrcodeErrorCorrectionLevel:withInt:withComItextpdfTextPdfQrcodeByteMatrix:", "embedTypeInfo", "V", 0x9, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "maybeEmbedVersionInfoWithInt:withComItextpdfTextPdfQrcodeByteMatrix:", "maybeEmbedVersionInfo", "V", 0x9, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "embedDataBitsWithComItextpdfTextPdfQrcodeBitVector:withInt:withComItextpdfTextPdfQrcodeByteMatrix:", "embedDataBits", "V", 0x9, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "findMSBSetWithInt:", "findMSBSet", "I", 0x9, NULL },
    { "calculateBCHCodeWithInt:withInt:", "calculateBCHCode", "I", 0x9, NULL },
    { "makeTypeInfoBitsWithComItextpdfTextPdfQrcodeErrorCorrectionLevel:withInt:withComItextpdfTextPdfQrcodeBitVector:", "makeTypeInfoBits", "V", 0x9, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "makeVersionInfoBitsWithInt:withComItextpdfTextPdfQrcodeBitVector:", "makeVersionInfoBits", "V", 0x9, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "isEmptyWithInt:", "isEmpty", "Z", 0xa, NULL },
    { "isValidValueWithInt:", "isValidValue", "Z", 0xa, NULL },
    { "embedTimingPatternsWithComItextpdfTextPdfQrcodeByteMatrix:", "embedTimingPatterns", "V", 0xa, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "embedDarkDotAtLeftBottomCornerWithComItextpdfTextPdfQrcodeByteMatrix:", "embedDarkDotAtLeftBottomCorner", "V", 0xa, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "embedHorizontalSeparationPatternWithInt:withInt:withComItextpdfTextPdfQrcodeByteMatrix:", "embedHorizontalSeparationPattern", "V", 0xa, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "embedVerticalSeparationPatternWithInt:withInt:withComItextpdfTextPdfQrcodeByteMatrix:", "embedVerticalSeparationPattern", "V", 0xa, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "embedPositionAdjustmentPatternWithInt:withInt:withComItextpdfTextPdfQrcodeByteMatrix:", "embedPositionAdjustmentPattern", "V", 0xa, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "embedPositionDetectionPatternWithInt:withInt:withComItextpdfTextPdfQrcodeByteMatrix:", "embedPositionDetectionPattern", "V", 0xa, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "embedPositionDetectionPatternsAndSeparatorsWithComItextpdfTextPdfQrcodeByteMatrix:", "embedPositionDetectionPatternsAndSeparators", "V", 0xa, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
    { "maybeEmbedPositionAdjustmentPatternsWithInt:withComItextpdfTextPdfQrcodeByteMatrix:", "maybeEmbedPositionAdjustmentPatterns", "V", 0xa, "Lcom.itextpdf.text.pdf.qrcode.WriterException;" },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "POSITION_DETECTION_PATTERN_", NULL, 0x1a, "[[I", &ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_DETECTION_PATTERN_,  },
    { "HORIZONTAL_SEPARATION_PATTERN_", NULL, 0x1a, "[[I", &ComItextpdfTextPdfQrcodeMatrixUtil_HORIZONTAL_SEPARATION_PATTERN_,  },
    { "VERTICAL_SEPARATION_PATTERN_", NULL, 0x1a, "[[I", &ComItextpdfTextPdfQrcodeMatrixUtil_VERTICAL_SEPARATION_PATTERN_,  },
    { "POSITION_ADJUSTMENT_PATTERN_", NULL, 0x1a, "[[I", &ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_ADJUSTMENT_PATTERN_,  },
    { "POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE_", NULL, 0x1a, "[[I", &ComItextpdfTextPdfQrcodeMatrixUtil_POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE_,  },
    { "TYPE_INFO_COORDINATES_", NULL, 0x1a, "[[I", &ComItextpdfTextPdfQrcodeMatrixUtil_TYPE_INFO_COORDINATES_,  },
    { "VERSION_INFO_POLY_", NULL, 0x1a, "I", NULL, .constantValue.asInt = ComItextpdfTextPdfQrcodeMatrixUtil_VERSION_INFO_POLY },
    { "TYPE_INFO_POLY_", NULL, 0x1a, "I", NULL, .constantValue.asInt = ComItextpdfTextPdfQrcodeMatrixUtil_TYPE_INFO_POLY },
    { "TYPE_INFO_MASK_PATTERN_", NULL, 0x1a, "I", NULL, .constantValue.asInt = ComItextpdfTextPdfQrcodeMatrixUtil_TYPE_INFO_MASK_PATTERN },
  };
  static const J2ObjcClassInfo _ComItextpdfTextPdfQrcodeMatrixUtil = { "MatrixUtil", "com.itextpdf.text.pdf.qrcode", NULL, 0x11, 21, methods, 9, fields, 0, NULL};
  return &_ComItextpdfTextPdfQrcodeMatrixUtil;
}

@end
