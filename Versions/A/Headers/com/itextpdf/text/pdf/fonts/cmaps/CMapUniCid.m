//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Zetzsche/Development/SimarisCurves/com.itextpdf/src/com/itextpdf/text/pdf/fonts/cmaps/CMapUniCid.java
//

#line 1 "/Users/Zetzsche/Development/SimarisCurves/com.itextpdf/src/com/itextpdf/text/pdf/fonts/cmaps/CMapUniCid.java"

#include "IOSPrimitiveArray.h"
#include "com/itextpdf/text/Utilities.h"
#include "com/itextpdf/text/pdf/IntHashtable.h"
#include "com/itextpdf/text/pdf/PdfNumber.h"
#include "com/itextpdf/text/pdf/PdfObject.h"
#include "com/itextpdf/text/pdf/PdfString.h"
#include "com/itextpdf/text/pdf/fonts/cmaps/AbstractCMap.h"
#include "com/itextpdf/text/pdf/fonts/cmaps/CMapToUnicode.h"
#include "com/itextpdf/text/pdf/fonts/cmaps/CMapUniCid.h"


#line 57
@implementation ComItextpdfTextPdfFontsCmapsCMapUniCid


#line 61
- (void)addCharWithComItextpdfTextPdfPdfString:(ComItextpdfTextPdfPdfString *)mark
               withComItextpdfTextPdfPdfObject:(ComItextpdfTextPdfPdfObject *)code {
  
#line 62
  if (!([code isKindOfClass:[ComItextpdfTextPdfPdfNumber class]]))
#line 63
  return;
  jint codepoint;
  NSString *s = [self decodeStringToUnicodeWithComItextpdfTextPdfPdfString:mark];
  if ([ComItextpdfTextUtilities isSurrogatePairWithNSString:s withInt:0])
#line 67
  codepoint = [ComItextpdfTextUtilities convertToUtf32WithNSString:s withInt:0];
  else
#line 69
  codepoint = (jint) [((NSString *) nil_chk(s)) charAtWithInt:0];
  [((ComItextpdfTextPdfIntHashtable *) nil_chk(map_)) putWithInt:codepoint withInt:[((ComItextpdfTextPdfPdfNumber *) nil_chk(((ComItextpdfTextPdfPdfNumber *) check_class_cast(code, [ComItextpdfTextPdfPdfNumber class])))) intValue]];
}


#line 73
- (jint)lookupWithInt:(jint)character {
  
#line 74
  return [((ComItextpdfTextPdfIntHashtable *) nil_chk(map_)) getWithInt:character];
}


#line 77
- (ComItextpdfTextPdfFontsCmapsCMapToUnicode *)exportToUnicode {
  
#line 78
  ComItextpdfTextPdfFontsCmapsCMapToUnicode *uni = [[ComItextpdfTextPdfFontsCmapsCMapToUnicode alloc] init];
  IOSIntArray *keys = [((ComItextpdfTextPdfIntHashtable *) nil_chk(map_)) toOrderedKeys];
  {
    IOSIntArray *a__ =
#line 80
    keys;
    jint const *b__ = ((IOSIntArray *) nil_chk(a__))->buffer_;
    jint const *e__ = b__ + a__->size_;
    while (b__ < e__) {
      jint key = *b__++;
      
#line 81
      [uni addCharWithInt:[map_ getWithInt:key] withNSString:[ComItextpdfTextUtilities convertFromUtf32WithInt:key]];
    }
  }
  
#line 83
  return uni;
}

- (instancetype)init {
  if (self = [super init]) {
    map_ =
#line 58
    [[ComItextpdfTextPdfIntHashtable alloc] initWithInt:65537];
  }
  return self;
}

- (void)copyAllFieldsTo:(ComItextpdfTextPdfFontsCmapsCMapUniCid *)other {
  [super copyAllFieldsTo:other];
  other->map_ = map_;
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "addCharWithComItextpdfTextPdfPdfString:withComItextpdfTextPdfPdfObject:", "addChar", "V", 0x0, NULL },
    { "lookupWithInt:", "lookup", "I", 0x1, NULL },
    { "exportToUnicode", NULL, "Lcom.itextpdf.text.pdf.fonts.cmaps.CMapToUnicode;", 0x1, NULL },
    { "init", NULL, NULL, 0x1, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "map_", NULL, 0x2, "Lcom.itextpdf.text.pdf.IntHashtable;", NULL,  },
  };
  static const J2ObjcClassInfo _ComItextpdfTextPdfFontsCmapsCMapUniCid = { "CMapUniCid", "com.itextpdf.text.pdf.fonts.cmaps", NULL, 0x1, 4, methods, 1, fields, 0, NULL};
  return &_ComItextpdfTextPdfFontsCmapsCMapUniCid;
}

@end
