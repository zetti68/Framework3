//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Users/Zetzsche/Development/SimarisCurves/com.itextpdf/src/com/itextpdf/text/pdf/crypto/IVGenerator.java
//

#line 1 "/Users/Zetzsche/Development/SimarisCurves/com.itextpdf/src/com/itextpdf/text/pdf/crypto/IVGenerator.java"

#include "IOSPrimitiveArray.h"
#include "com/itextpdf/text/pdf/crypto/ARCFOUREncryption.h"
#include "com/itextpdf/text/pdf/crypto/IVGenerator.h"
#include "java/lang/Runtime.h"
#include "java/lang/System.h"

BOOL ComItextpdfTextPdfCryptoIVGenerator_initialized = NO;


#line 51
@implementation ComItextpdfTextPdfCryptoIVGenerator

ComItextpdfTextPdfCryptoARCFOUREncryption * ComItextpdfTextPdfCryptoIVGenerator_arcfour_;


#line 64
- (instancetype)init {
  return [super init];
}


#line 71
+ (IOSByteArray *)getIV {
  
#line 72
  return [ComItextpdfTextPdfCryptoIVGenerator getIVWithInt:16];
}


#line 80
+ (IOSByteArray *)getIVWithInt:(jint)len {
  
#line 81
  IOSByteArray *b = [IOSByteArray arrayWithLength:len];
  @synchronized(ComItextpdfTextPdfCryptoIVGenerator_arcfour_) {
    [((ComItextpdfTextPdfCryptoARCFOUREncryption *) nil_chk(ComItextpdfTextPdfCryptoIVGenerator_arcfour_)) encryptARCFOURWithByteArray:b];
  }
  return b;
}

+ (void)initialize {
  if (self == [ComItextpdfTextPdfCryptoIVGenerator class]) {
    {
      
#line 56
      ComItextpdfTextPdfCryptoIVGenerator_arcfour_ = [[ComItextpdfTextPdfCryptoARCFOUREncryption alloc] init];
      jlong time = [JavaLangSystem currentTimeMillis];
      jlong mem = [((JavaLangRuntime *) nil_chk([JavaLangRuntime getRuntime])) freeMemory];
      NSString *s = JreStrcat("JCJ", time, '+', mem);
      [ComItextpdfTextPdfCryptoIVGenerator_arcfour_ prepareARCFOURKeyWithByteArray:[s getBytes]];
    }
    ComItextpdfTextPdfCryptoIVGenerator_initialized = YES;
  }
}

+ (const J2ObjcClassInfo *)__metadata {
  static const J2ObjcMethodInfo methods[] = {
    { "init", "IVGenerator", NULL, 0x2, NULL },
    { "getIV", NULL, "[B", 0x9, NULL },
    { "getIVWithInt:", "getIV", "[B", 0x9, NULL },
  };
  static const J2ObjcFieldInfo fields[] = {
    { "arcfour_", NULL, 0xa, "Lcom.itextpdf.text.pdf.crypto.ARCFOUREncryption;", &ComItextpdfTextPdfCryptoIVGenerator_arcfour_,  },
  };
  static const J2ObjcClassInfo _ComItextpdfTextPdfCryptoIVGenerator = { "IVGenerator", "com.itextpdf.text.pdf.crypto", NULL, 0x11, 3, methods, 1, fields, 0, NULL};
  return &_ComItextpdfTextPdfCryptoIVGenerator;
}

@end
